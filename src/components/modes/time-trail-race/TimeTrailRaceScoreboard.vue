<template>
  <Panel header="Scoreboard">
    <table class="w-full">
      <tbody>
        <tr v-for="(score, index) in store.scoreboard" v-bind:key="score.name">
          <td class="text-right font-bold pr-1">{{ index + 1 }}</td>
          <td class="text-right font-bold pr-2" :class="score.bac && 'player-bac'">
            <font-awesome-icon
              :icon="faSkullCrossbones"
              v-if="score.alcoholFree"
              title="Alcohol free"
              class="mr-1"
            />
            {{ score.name }}
          </td>
          <td>{{ toStopwatchString(score.timeMs) }}</td>
        </tr>
      </tbody>
    </table>
  </Panel>
</template>

<script setup lang="ts">
import { useTimeTrailRaceStore } from '@/stores/modes/time-trail-race.store';
import { toStopwatchString } from '@/utils/timeUtils';
import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';
import { faSkullCrossbones } from '@fortawesome/free-solid-svg-icons';

const store = useTimeTrailRaceStore();
</script>

<style scoped>
.player-bac {
  text-shadow: lightgreen 0 0 2px;
}
</style>
